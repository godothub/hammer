[gd_scene format=3 uid="uid://dvarexi5juq3j"]

[ext_resource type="Script" uid="uid://py0vjxgenl4m" path="res://addons/hammer/core/scene.gd" id="1_pyta8"]
[ext_resource type="Script" uid="uid://di25fuadhruvx" path="res://addons/hammer/extension/facility_area.gd" id="3_pyta8"]
[ext_resource type="Script" uid="uid://bmd63051goee6" path="res://addons/hammer/extension/facility_button.gd" id="4_3p3n1"]
[ext_resource type="Script" uid="uid://sg74uc1vt2g4" path="res://addons/hammer/extension/facility_panel.gd" id="4_xawni"]
[ext_resource type="Script" uid="uid://oyfr74obby8b" path="res://addons/hammer/extension/facility_area_gravity.gd" id="5_3tkjv"]

[sub_resource type="QuadMesh" id="QuadMesh_lgr22"]
size = Vector2(20, 20)
orientation = 1

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_lgr22"]

[sub_resource type="BoxMesh" id="BoxMesh_lgr22"]
size = Vector3(2, 2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_trn2v"]
size = Vector3(2, 2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_awyxq"]
size = Vector3(2, 2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_cmxue"]
size = Vector3(2, 0.2, 2)

[sub_resource type="BoxMesh" id="BoxMesh_awyxq"]
size = Vector3(2, 0.2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_p6ene"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ecicg"]

[sub_resource type="CylinderMesh" id="CylinderMesh_p6ene"]

[sub_resource type="BoxShape3D" id="BoxShape3D_g4y41"]
size = Vector3(10, 2, 2)

[sub_resource type="BoxMesh" id="BoxMesh_yx5lk"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ecicg"]

[node name="Scene1" type="Node3D" unique_id=1749043582 node_paths=PackedStringArray("edge_facility_table")]
script = ExtResource("1_pyta8")
edge_facility_table = {
&"Scene0": NodePath("FacilityRoot/DoorPanel")
}
metadata/_custom_type_script = "uid://py0vjxgenl4m"

[node name="StaticRoot" type="Node3D" parent="." unique_id=1401771851]

[node name="Floor" type="StaticBody3D" parent="StaticRoot" unique_id=1374082480]
metadata/_edit_group_ = true

[node name="Mesh" type="MeshInstance3D" parent="StaticRoot/Floor" unique_id=1272362845]
mesh = SubResource("QuadMesh_lgr22")

[node name="Shape" type="CollisionShape3D" parent="StaticRoot/Floor" unique_id=1188302965]
shape = SubResource("WorldBoundaryShape3D_lgr22")

[node name="Box1" type="StaticBody3D" parent="StaticRoot" unique_id=1656531781]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 1, 0)
metadata/_edit_group_ = true

[node name="Mesh" type="MeshInstance3D" parent="StaticRoot/Box1" unique_id=1681032731]
mesh = SubResource("BoxMesh_lgr22")

[node name="Shape" type="CollisionShape3D" parent="StaticRoot/Box1" unique_id=1884669007]
shape = SubResource("BoxShape3D_trn2v")

[node name="Box2" type="StaticBody3D" parent="StaticRoot" unique_id=9585495]
transform = Transform3D(0.70710677, -0.70710677, 0, 0.70710677, 0.70710677, 0, 0, 0, 1, 5, 0, 0)
metadata/_edit_group_ = true

[node name="Mesh" type="MeshInstance3D" parent="StaticRoot/Box2" unique_id=416940311]
mesh = SubResource("BoxMesh_lgr22")

[node name="Shape" type="CollisionShape3D" parent="StaticRoot/Box2" unique_id=1073253838]
shape = SubResource("BoxShape3D_trn2v")

[node name="FacilityRoot" type="Node3D" parent="." unique_id=654795169]

[node name="FacilityArea" type="Node3D" parent="FacilityRoot" unique_id=709449395 node_paths=PackedStringArray("area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, 3)
script = ExtResource("3_pyta8")
area = NodePath("Area")

[node name="Area" type="Area3D" parent="FacilityRoot/FacilityArea" unique_id=1702347611]

[node name="Collision" type="CollisionShape3D" parent="FacilityRoot/FacilityArea/Area" unique_id=45314870]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource("BoxShape3D_awyxq")

[node name="FacilityPanel" type="Node3D" parent="FacilityRoot" unique_id=1189200522 node_paths=PackedStringArray("panel_node", "from_node", "to_node", "depend_facility_list")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)
script = ExtResource("4_xawni")
panel_node = NodePath("Static")
from_node = NodePath("From")
to_node = NodePath("To")
depend_facility_list = [NodePath("../FacilityArea")]

[node name="To" type="Marker3D" parent="FacilityRoot/FacilityPanel" unique_id=720064612]
transform = Transform3D(1, 0, 0, 0, 0.70710677, 0.70710677, 0, -0.70710677, 0.70710677, 0, 1, 1)

[node name="Static" type="StaticBody3D" parent="FacilityRoot/FacilityPanel" unique_id=26319207]
transform = Transform3D(1, 0, 0, 0, 0.70710623, 0.70710623, 0, -0.70710623, 0.70710623, 0, 1, 1)

[node name="Shape" type="CollisionShape3D" parent="FacilityRoot/FacilityPanel/Static" unique_id=1254031081]
shape = SubResource("BoxShape3D_cmxue")

[node name="Mesh" type="MeshInstance3D" parent="FacilityRoot/FacilityPanel/Static" unique_id=729192000]
mesh = SubResource("BoxMesh_awyxq")

[node name="From" type="Marker3D" parent="FacilityRoot/FacilityPanel" unique_id=1429249365]
transform = Transform3D(1, 0, 0, 0, 0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0)

[node name="DoorArea" type="Node3D" parent="FacilityRoot" unique_id=863496833 node_paths=PackedStringArray("area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, -9)
script = ExtResource("3_pyta8")
area = NodePath("Area")

[node name="Area" type="Area3D" parent="FacilityRoot/DoorArea" unique_id=393979300]

[node name="Collision" type="CollisionShape3D" parent="FacilityRoot/DoorArea/Area" unique_id=601273934]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource("BoxShape3D_awyxq")

[node name="DoorPanel" type="Node3D" parent="FacilityRoot" unique_id=1130011510 node_paths=PackedStringArray("panel_node", "from_node", "to_node", "depend_facility_list")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 1, -10)
script = ExtResource("4_xawni")
panel_node = NodePath("Static")
from_node = NodePath("From")
to_node = NodePath("To")
depend_facility_list = [NodePath("../DoorArea")]

[node name="From" type="Marker3D" parent="FacilityRoot/DoorPanel" unique_id=1000755430]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)

[node name="Static" type="StaticBody3D" parent="FacilityRoot/DoorPanel" unique_id=1330628395]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 3, 0)

[node name="Shape" type="CollisionShape3D" parent="FacilityRoot/DoorPanel/Static" unique_id=649769431]
shape = SubResource("BoxShape3D_cmxue")

[node name="Mesh" type="MeshInstance3D" parent="FacilityRoot/DoorPanel/Static" unique_id=726418014]
mesh = SubResource("BoxMesh_awyxq")

[node name="To" type="Marker3D" parent="FacilityRoot/DoorPanel" unique_id=1100783675]
transform = Transform3D(1, 0, 0, 0, -4.3711385e-08, -0.9999999, 0, 0.9999999, -4.3711385e-08, 0, 3, 0)

[node name="FacilityButton" type="Node3D" parent="FacilityRoot" unique_id=2021613415 node_paths=PackedStringArray("area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -5)
script = ExtResource("4_3p3n1")
button_mode = 1
area = NodePath("Area")
metadata/_custom_type_script = "uid://bmd63051goee6"

[node name="Area" type="Area3D" parent="FacilityRoot/FacilityButton" unique_id=1017325546]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="Collision" type="CollisionShape3D" parent="FacilityRoot/FacilityButton/Area" unique_id=104023024]
shape = SubResource("BoxShape3D_p6ene")

[node name="Static" type="StaticBody3D" parent="FacilityRoot/FacilityButton" unique_id=553962676]

[node name="Collision" type="CollisionShape3D" parent="FacilityRoot/FacilityButton/Static" unique_id=1444984847]
shape = SubResource("CylinderShape3D_ecicg")

[node name="Mesh" type="MeshInstance3D" parent="FacilityRoot/FacilityButton/Static" unique_id=1426763688]
mesh = SubResource("CylinderMesh_p6ene")

[node name="FacilityAreaGravity" type="Node3D" parent="FacilityRoot" unique_id=220882384 node_paths=PackedStringArray("area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 4)
script = ExtResource("5_3tkjv")
area = NodePath("Area")
metadata/_custom_type_script = "uid://oyfr74obby8b"

[node name="Area" type="Area3D" parent="FacilityRoot/FacilityAreaGravity" unique_id=1515185603]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FacilityRoot/FacilityAreaGravity/Area" unique_id=1680857751]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource("BoxShape3D_g4y41")

[node name="Cube" type="RigidBody3D" parent="." unique_id=671126773]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 3)

[node name="Mesh" type="MeshInstance3D" parent="Cube" unique_id=97935445]
mesh = SubResource("BoxMesh_yx5lk")

[node name="Shape" type="CollisionShape3D" parent="Cube" unique_id=2081384847]
shape = SubResource("BoxShape3D_ecicg")
